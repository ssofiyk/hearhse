# hearhse
course_work

## Ссылка на сайт
hearhse.online

## Установка 
pip insatll flask

## Работа Model-View-Controller:
### Model
- Определены основные функции и осуществляется взаимодействие с базой данных.
- Реализована функция 'create_new_user' для создания нового пользователя.
- Для отслеживания прогресса пользователей используются куки.
- Для установки куки применяется модуль 'set_cookie()'.
#### Файл db.py:
- Создание таблиц для слов, предложений, фраз ('words', 'phrases', 'sentences', 'miss_sents', 'questions', 'infs').
Таблицы содержат id слова, само слово и путь к аудиофайлу.
- Присутствует таблица 'users' для хранения информации о пользователях.
- Для каждого упражнения создается сводная таблица (например, user_words) с id пользователя, id слова, результатом выполнения и временем прохождения.
#### Функции в файле dao.py:
- 'get_incorrect_words_by_user_id' и 'get_correct_words_by_user_id' извлекают из таблицы 'user_words' слова с результатами выполнения 0 или 1.
- Функция 'set_user_word_answer' добавляет ответ пользователя в таблицу 'user_words'.
- Функция 'get_all_words_by_user_id' обрабатывает количество всех слов.
- В таблице 'user_words' выбираются слова с одним и тем же id пользователя.

### View
- Главная страница отображается с помощью шаблона 'index.html', используется bootstrap для создания интерфейса.
- Начальная страница разделена на 3 части: сессия с разными упражнениями, упражнения на слова и упражнения на предложения.
- Каждому упражнению дается краткое описание его цели.
- Для первого упражнения используется шаблон 'quiz.html' с установленным русским языком.
- В разделе <head> задается кодировка, заголовок страницы, подключение bootstrap, стилей для цвета, размера, шрифта текста и элементов.
- На странице упражнения присутствуют элементы: текст перед аудиодорожкой, аудиодорожка, задание, поле для ответа, кнопка отправки ответа, прогрессбар для отслеживания выполнения.
- После завершения упражнения отображается страница с текстом об окончании и возможностью исправить ошибки.
- Для логики использовался инструмент для html-шаблонизации jinja2.

### Controller
- Функция get_random_word_for_user создает переменные для работы с упражнением на слова:1.
  1. t_name - указывает на тип слов, в данном случае 'words'.
  2. ban_words_ids - содержит идентификаторы слов, которые пользователь уже отработал.
  3. words_count - количество всех слов.
  4. words_count_2 - половина общего количества слов для поэтапной сложности.
  5. free_words_ids - список свободных слов, которые предоставляются пользователю.
- При окончании списка слов, в переменную free_words_ids добавляются слова, которые пользователь записал неправильно, для последующей корректировки.
- Функция get_correct_word_count возвращает количество слов, которые пользователь записал правильно, используя функцию из модели get_correct_words_by_user_id.
- Существуют аналогичные функции для подсчета неправильных ответов и общего количества ответов пользователя.
- Функция set_user_word_answer записывает ответ пользователя (правильный или неправильный) с указанием идентификатора пользователя, слова и результата выполнения.

## Контакты
Если у Вас есть вопросы, Вы можете задать их в телеграме @ssofiyk




